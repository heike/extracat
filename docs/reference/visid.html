<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visualizing Indicator Matrices and Missing Values — visid • extracat</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Visualizing Indicator Matrices and Missing Values — visid" />

<meta property="og:description" content="This function aggregates a binary dataframe or matrix using subtable and visualizes the combinations along with the marginal distributions using fluctile. Options include reordering of rows and columns, filtering the most important rows and columns aas well as ceiling censored zooming for the marginals.
 Missing values can be visualized using is.na and datasets with categorical variables can be transoformed via idat.
visna(x) is a shortcut for visid( is.na(x) + 0 ).
visdf(x, freqvar) is a shortcut for visid( idat(x, allcat = TRUE, keep = freqvar) )." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">extracat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualizing Indicator Matrices and Missing Values</h1>
    
    <div class="hidden name"><code>visid.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function aggregates a binary dataframe or matrix using <a href='subtable.html'>subtable</a> and visualizes the combinations along with the marginal distributions using <a href='fluctile.html'>fluctile</a>. Options include reordering of rows and columns, filtering the most important rows and columns aas well as ceiling censored zooming for the marginals.<br />
<br /> Missing values can be visualized using <a href='https://www.rdocumentation.org/packages/base/topics/NA'>is.na</a> and datasets with categorical variables can be transoformed via <a href='idat.html'>idat</a>.
<code>visna(x)</code> is a shortcut for <code>visid( is.na(x) + 0 )</code>.
<code>visdf(x, freqvar)</code> is a shortcut for <code>visid( idat(x, allcat = TRUE, keep = freqvar) )</code>.</p>
    
    </div>

    <pre class="usage">visid(x, freqvar = "Freq", tp = FALSE, fr = 1, fc = 1, sort = "n",
 sort.method = "count", col = "w",
  mar.col = c(alpha("black", 0.7), alpha("darkred", 0.8), "red", "green"),
   s = Inf, pmax = 1, opts = list(), plot = TRUE, return.data = !plot, &#8230;)
visna(x, freqvar = "Freq", tp = FALSE, fr = 1, fc = 1, sort = "n",
 sort.method = "count", col = "w",
  mar.col = c(alpha("black", 0.7), alpha("darkred", 0.8), "red", "green"),
   s = Inf, pmax = 1, opts = list(), plot = TRUE, return.data = !plot, &#8230;)
visdf(x, freqvar = "Freq", tp = FALSE, fr = 1, fc = 1, sort = "n",
 sort.method = "count", col = "w",
  mar.col = c(alpha("black", 0.7), alpha("darkred", 0.8), "red", "green"),
   s = Inf, pmax = 1, opts = list(), plot = TRUE, return.data = !plot, &#8230;)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A binary dataframe or matrix. <a href='https://www.rdocumentation.org/packages/base/topics/NA'>is.na</a> and <a href='idat.html'>idat</a> can be used to bring in missing values and categorical variables.</p></td>
    </tr>
    <tr>
      <th>freqvar</th>
      <td><p>An optional frequency variable. If this is not found the data is aggregated using<a href='subtable.html'>subtable</a>.</p></td>
    </tr>
    <tr>
      <th>tp</th>
      <td><p>Logical. Whether or not to transpose the indicator matrix for the visualization.</p></td>
    </tr>
    <tr>
      <th>fr</th>
      <td><p>This controls the row filtering: Only the <code>fr</code> most frequent rows are kept. Values below 1 are interpreted as proportions and only the minmum number of rows covering at least <code>fr</code> percent of the observations are kept.</p></td>
    </tr>
    <tr>
      <th>fc</th>
      <td><p>See <code>fr</code>.</p></td>
    </tr>
    <tr>
      <th>sort</th>
      <td><p>One of <code>"n"</code> (no reordering), <code>"r"</code> (row reordering), <code>"c"</code> (column reordering) or <code>"b"</code> (row and column reordering).</p></td>
    </tr>
    <tr>
      <th>sort.method</th>
      <td><p>The default is reordering by frequency (rows) and average (columns). Other options include <code>"ME"</code> for reordering by the measure of effectiveness (see <a href='optME.html'>optME</a>) and
<code>"optile"</code> which enables all reorderings offered by <a href='optile.html'>optile</a>.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>The color palette. For the basic indicator case only a single color is meaningful. Transfrmations via <a href='idat.html'>idat</a> feature coloring by variable.</p></td>
    </tr>
    <tr>
      <th>mar.col</th>
      <td><p>Colors for the marginals: rows, columns, row markers, column markers (see <code>s</code> and <code>pmax</code>).</p></td>
    </tr>
    <tr>
      <th>s</th>
      <td><p>Ceiling censored zooming for the rows. The maximum of the scale is <code>s</code> times the second largest value.</p></td>
    </tr>
    <tr>
      <th>pmax</th>
      <td><p>The maximum for the average/percentage scale used for the column marginal plot.</p></td>
    </tr>
    <tr>
      <th>opts</th>
      <td><p>A list of options. Currently:</p><table class='table'>
<tr><td></td><td></td><td><code>gap.prop</code></td><td></td></tr>
<tr><td>gaps proportion used in</td><td><a href='fluctile.html'>fluctile</a></td><td>).</td><td></td></tr>
<tr><td></td><td>The default is to use no gaps if more than</td><td></td><td></td></tr>
<tr><td>40 rows or columns are involved.</td><td></td><td></td><td></td></tr>
<tr><td><code>mar</code></td><td></td><td>Vector controlling the size of the marginal plots.</td><td></td></tr>
<tr><td></td><td><code>border</code></td><td></td><td>Borders around the plot.</td></tr>
<tr><td></td><td></td><td><code>shape</code></td><td></td></tr>
<tr><td>Shape of the symbols. Default is rectangles.</td><td></td><td></td><td><code>bg.col</code></td></tr>
<tr><td></td><td>Background color center/right/bottom</td><td></td><td></td></tr>
<tr><td><code>abbrev</code></td><td></td><td>Label abbreviation.</td><td></td></tr>
<tr><td></td><td></td><td></td><td><code>gap.prop</code></td></tr>
</table>

</td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>Whether or not to draw the plot.</p></td>
    </tr>
    <tr>
      <th>return.data</th>
      <td><p>Whether or not to return the data after filtering and reordering took place.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Further arguments passed to either <a href='optME.html'>optME</a> or <a href='optile.html'>optile</a>. Can for instance be used to choose the reordering method.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The filtered and reordered data or <code><a href='https://www.rdocumentation.org/packages/base/topics/invisible'>invisible(TRUE)</a></code> (default).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='fluctile.html'>fluctile</a>, <a href='optile.html'>optile</a>, <a href='idat.html'>idat</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='no'>reshape2</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='no'>scales</span>)

<span class='no'>MJ</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/read.table'>read.table</a></span>(
<span class='st'>"http://www.rosuda.org/~pilhoefer/MJnew.txt"</span>,
<span class='kw'>header</span><span class='kw'>=</span><span class='no'>T</span>,<span class='kw'>sep</span><span class='kw'>=</span><span class='st'>"\t"</span>,<span class='kw'>quote</span><span class='kw'>=</span><span class='st'>""</span>)


<span class='no'>MJS</span> <span class='kw'>&lt;-</span> <span class='no'>MJ</span>[,<span class='fl'>13</span>:<span class='fl'>105</span>]

<span class='fu'>visid</span>(<span class='no'>MJS</span>)

<span class='co'># sort by count/percentage</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span><span class='kw'>=</span><span class='st'>"b"</span>)

<span class='co'># sort via ME</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"b"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"ME"</span>)

<span class='co'># only rows, only columns</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"r"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"ME"</span>)
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"c"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"ME"</span>)

<span class='co'># sort via optile</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"b"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>)

<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"b"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>, <span class='kw'>iter</span><span class='kw'>=</span><span class='fl'>10</span>)

<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"b"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>,<span class='kw'>fun</span><span class='kw'>=</span><span class='st'>"ca"</span>)

<span class='co'># 24 rows</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"r"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>, <span class='kw'>fr</span><span class='kw'>=</span><span class='fl'>24</span>)


<span class='co'># 24 rows, &gt;= 40&lt;!-- % columns --&gt;</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"r"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>, <span class='kw'>fr</span><span class='kw'>=</span><span class='fl'>24</span>, <span class='kw'>fc</span> <span class='kw'>=</span> <span class='fl'>0.4</span>)


<span class='co'># zoom y marginal</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"r"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>, <span class='kw'>fr</span><span class='kw'>=</span><span class='fl'>24</span>, <span class='kw'>s</span><span class='kw'>=</span><span class='fl'>1</span>)


<span class='co'># zoom x marginal</span>
<span class='fu'>visid</span>(<span class='no'>MJS</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"r"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>, <span class='kw'>fr</span><span class='kw'>=</span><span class='fl'>24</span>, <span class='kw'>pmax</span><span class='kw'>=</span><span class='fl'>0.1</span>, <span class='kw'>s</span> <span class='kw'>=</span><span class='fl'>0.5</span>)

<span class='co'># }</span><div class='input'>
<span class='co'># NA-example: GeneEx</span>

<span class='fu'>visna</span>(<span class='no'>GeneEx</span>, <span class='kw'>sort</span> <span class='kw'>=</span> <span class='st'>"b"</span>, <span class='kw'>sort.method</span><span class='kw'>=</span><span class='st'>"optile"</span>, <span class='kw'>fr</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>pmax</span><span class='kw'>=</span><span class='fl'>0.05</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='img'><img src='visid-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='no'>MASS</span>)
<span class='fu'>visdf</span>(<span class='no'>housing</span>)</div><div class='img'><img src='visid-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>visdf</span>(<span class='no'>housing</span>,<span class='kw'>opts</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>var.col</span><span class='kw'>=</span><span class='st'>"w"</span>))</div><div class='img'><img src='visid-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'>visdf</span>(<span class='no'>housing</span>,<span class='kw'>opts</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>var.col</span><span class='kw'>=</span><span class='st'>"w"</span>), <span class='kw'>sort</span><span class='kw'>=</span><span class='st'>"r"</span>)</div><div class='img'><img src='visid-4.png' alt='' width='700' height='433' /></div><div class='input'>





</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Alexander Pilhoefer</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alexander Pilhoefer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

