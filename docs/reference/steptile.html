<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>stepwise reordering — steptile • extracat</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="stepwise reordering — steptile" />

<meta property="og:description" content="Starts with the first k+1 variables and applies optile to the corresponding subtable. Then one additional variable at a time is reordered using the subtable defined by this variable and the last k variables. Only the current variable is reordered and the others are fixed since they have been reordered in the previous steps." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">extracat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>stepwise reordering</h1>
    
    <div class="hidden name"><code>steptile.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Starts with the first <code>k+1</code> variables and applies <a href='optile.html'>optile</a> to the corresponding subtable. Then one additional variable at a time is reordered using the subtable defined by this variable and the last <code>k</code> variables. Only the current variable is reordered and the others are fixed since they have been reordered in the previous steps.</p>
    
    </div>

    <pre class="usage">steptile(x, k = 1, cpcp = FALSE, &#8230;)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>The <code>data.frame</code> (which is better for high-dimensional data) or data table.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>The number of preceding variables used for the reordering. E.g. if <code>k = 3</code> then variable <code>6</code> is reordered using the variables <code>3, 4, 5, 6</code>.</p></td>
    </tr>
    <tr>
      <th>cpcp</th>
      <td><p>If <code>TRUE</code> a special version of the algorithm which minimizes crossings in CPCP plots (e.g. <a href='scpcp.html'>scpcp</a> ) is used. This modification works with aggregations of the last <code>k</code> variables and is much faster than the standard procedure if <code>k &gt; 1</code>.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Arguments passed to <a href='optile.html'>optile</a>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The optile function also offers stepwise reordering via the argument <code>method = "sw"</code> but always starts with the first pair of variables and then considers the complete past: for the reordering of variable <code>i</code> all variables <code>1...(i-1)</code> are considered. The stepwise algorithms are applicable to high-dimensional problems with a large number of variables where the multivariate techniques fail.
Even if <code>k</code> is high (i.e. the subtables are also high-dimensional) the procedure is very fast since it ca use the following trick: instead of applying optile to the multidimensional table it is applied to a 2D-table with one dimension defined by the variable that is reordered and the other dimension defined by the
(ordered) combinations of all other variables. This way only combinations which appear at least once in the dataset matter and all empty entries (the majority in high-dimensional tables) can be left aside. The maximum possible size of such a table is therefore \(N * max(n_i)\) when \(N\) is the number of observations and \(n_i\) is the number of categories in dimension <code>i</code>.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The reordered data either as a <code>table</code> or <code>data.frame</code> depending on the input type.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='optile.html'>optile</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># scaled numeric variables from the olives data</span>
<span class='co'># and 20 k-means solutions</span>
<span class='no'>so</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/scale'>scale</a></span>(<span class='no'>olives</span>[,<span class='fl'>3</span>:<span class='fl'>10</span>])
<span class='no'>rr</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lapply'>replicate</a></span>(<span class='fl'>20</span>,{
        <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/kmeans'>kmeans</a></span>(<span class='no'>so</span>,<span class='fl'>8</span>)$<span class='no'>cluster</span>
})

<span class='co'># par(mfrow=c(3,1))</span>

<span class='co'># initial cluster orders</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/as.data.frame'>as.data.frame</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cbind'>cbind</a></span>(<span class='no'>olives</span>[,<span class='fl'>1</span>:<span class='fl'>2</span>],<span class='no'>rr</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='no'>scales</span>)
<span class='fu'><a href='scpcp.html'>scpcp</a></span>(<span class='no'>x</span>, <span class='kw'>sel</span> <span class='kw'>=</span> <span class='st'>"data[,1]"</span>,
                 <span class='kw'>sel.palette</span><span class='kw'>=</span><span class='st'>"rgb"</span>, <span class='kw'>col.opt</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>alpha</span><span class='kw'>=</span><span class='fl'>0.5</span>))

<span class='co'># reordering using steptile.</span>
<span class='co'># optile does not work for the complete table since it has 9*3*2^60 &gt; 3E19 entries</span>
<span class='co'># colors by the first unordered example:</span>

<span class='no'>x2</span> <span class='kw'>&lt;-</span> <span class='fu'>steptile</span>(<span class='no'>x</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>4</span>)
<span class='fu'><a href='scpcp.html'>scpcp</a></span>(<span class='no'>x2</span>, <span class='kw'>sel</span> <span class='kw'>=</span> <span class='st'>"match(data[,1],levels(.GlobalEnv$x[,1]))"</span>,
                <span class='kw'>sel.palette</span><span class='kw'>=</span><span class='st'>"rgb"</span>, <span class='kw'>col.opt</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>alpha</span><span class='kw'>=</span><span class='fl'>0.5</span>))


<span class='co'># additionally reordering the variables ... cmat takes about 20-30 seconds</span>
<span class='no'>CM</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cmat.html'>cmat</a></span>(<span class='no'>x</span>[,<span class='fl'>3</span>:<span class='fl'>22</span>])
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='no'>seriation</span>)
<span class='no'>sM</span> <span class='kw'>&lt;-</span> <span class='fu'>get_order</span>(<span class='fu'>seriate</span>(<span class='fl'>1</span>-<span class='no'>CM</span>))

<span class='no'>x3</span> <span class='kw'>&lt;-</span> <span class='fu'>steptile</span>(<span class='no'>x2</span>[, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>2</span>+<span class='no'>sM</span>,<span class='fl'>23</span>)], <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>4</span>)

<span class='fu'><a href='scpcp.html'>scpcp</a></span>(<span class='no'>x3</span>, <span class='kw'>sel</span> <span class='kw'>=</span> <span class='st'>"match(data[,1],levels(.GlobalEnv$x[,1]))"</span>,
                 <span class='kw'>sel.palette</span><span class='kw'>=</span><span class='st'>"rgb"</span>, <span class='kw'>col.opt</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>alpha</span><span class='kw'>=</span><span class='fl'>0.5</span>))

<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Alexander Pilhoefer</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alexander Pilhoefer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

